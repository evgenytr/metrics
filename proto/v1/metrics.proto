syntax = "proto3";

import "googleapis/google/rpc/status.proto";

package api;

option go_package = "github.com/evgenytr/metrics.git/pkg/api";

service MetricsServiceV1{
  rpc MetricsBatchV1(MetricsBatchRequest) returns (google.rpc.Status){} //processes array of metrics and saves them all at once
}

message Metric{
  string id = 1;
  string type = 2;
  int64 delta = 3;
  double value = 4;
}

message MetricsBatchRequest{
  repeated Metric metrics = 1;
  int32 count = 2;
}